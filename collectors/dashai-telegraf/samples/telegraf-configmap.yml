apiVersion: v1
data:
  telegraf.conf: |-

    [agent]
      interval = "10s"
      round_interval = true
      metric_batch_size = 1000
      metric_buffer_limit = 10000
      collection_jitter = "0s"
      flush_interval = "10s"
      flush_jitter = "0s"
      precision = ""
      logfile = ""
      hostname = ""
      omit_hostname = false

    [[outputs.influxdb]]
      urls = [""] # required
      database = "telegraf-agent"
      retention_policy = ""
      write_consistency = "any"
      timeout = "5s"
      # username = "telegraf"
      # password = "metricsmetricsmetricsmetrics"
      # user_agent = "telegraf"
      # udp_payload = 512
      ## Optional SSL Config
      # ssl_ca = "/etc/telegraf/ca.pem"
      # ssl_cert = "/etc/telegraf/cert.pem"
      # ssl_key = "/etc/telegraf/key.pem"
      ## Use SSL but skip chain & host verification
      # insecure_skip_verify = false



        [[inputs.cpu]]
          percpu = true
          totalcpu = true
          collect_cpu_time = false
          report_active = false

        [[inputs.disk]]
          ignore_fs = ["tmpfs", "devtmpfs", "devfs"]
        [[inputs.diskio]]
        [[inputs.kernel]]
        [[inputs.mem]]
        [[inputs.processes]]
        [[inputs.swap]]
        [[inputs.system]]
        [[inputs.cgroup]]
        [[inputs.net]]
        [[inputs.net_response]]
        [[inputs.netstat]]
        [[inputs.conntrack]]
        
        
kind: ConfigMap
metadata:
  name: telegraf